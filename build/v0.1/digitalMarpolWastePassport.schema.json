{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Digital MARPOL Waste Passport",
  "description": "Shape principal del Digital MARPOL Waste Passport (cerrado).",
  "$comment": "Auto-generated by shacl-to-jsonschema.py - DO NOT EDIT MANUALLY",
  "$defs": {
    "DigitalMarpolWastePassportShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#DigitalMarpolWastePassportShape",
      "title": "Digital MARPOL Waste Passport",
      "description": "Shape principal del Digital MARPOL Waste Passport (cerrado).",
      "properties": {
        "dmwp:credentialSubject": {
          "description": "Debe tener un credentialSubject (MarpolWastePassport).",
          "$ref": "#/$defs/MarpolWastePassportShape"
        },
        "dct:issued": {
          "description": "Falta fecha de emisión (dct:issued).",
          "type": "string",
          "format": "date-time"
        },
        "dct:publisher": {
          "description": "Falta publisher (dct:publisher).",
          "$comment": "No explicit sh:datatype or sh:class found"
        }
      },
      "required": [
        "dmwp:credentialSubject",
        "dct:issued",
        "dct:publisher"
      ],
      "additionalProperties": false
    },
    "MarpolWastePassportShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWastePassportShape",
      "title": "MARPOL Waste Passport",
      "description": "Shape del MarpolWastePassport (cerrado).",
      "properties": {
        "dmwp:waste": {
          "description": "Debe enlazar un MarpolWaste.",
          "$ref": "#/$defs/MarpolWasteShape"
        }
      },
      "required": [
        "dmwp:waste"
      ],
      "additionalProperties": false
    },
    "MarpolWasteShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWasteShape",
      "title": "MARPOL Waste",
      "description": "Shape de residuo MARPOL (cerrado).",
      "properties": {
        "dmwp:ship": {
          "description": "Debe especificar el buque (ship).",
          "$ref": "#/$defs/ShipShape"
        },
        "dmwp:residue": {
          "description": "Debe existir al menos un ResidueInformation.",
          "$ref": "#/$defs/ResidueInformationShape"
        },
        "dmwp:lastDeliveryDate": {
          "type": "string",
          "format": "date-time"
        },
        "dmwp:arrivalPort": {
          "description": "arrivalPort debe cumplir patrón UN/LOCODE (e.g. ESPMI).",
          "type": "string",
          "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
        },
        "dmwp:nextPlannedDeliveryPort": {
          "type": "string",
          "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
        },
        "dmwp:lastWasteDeliveryPort": {
          "type": "string",
          "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
        },
        "dmwp:deliveryType": {
          "description": "deliveryType fuera de lista permitida (ZTO, REC, DIS).",
          "type": "string",
          "enum": [
            "ZTO",
            "REC",
            "DIS"
          ]
        },
        "dmwp:shipScale": {
          "type": "string"
        },
        "dmwp:marpolEdition": {
          "type": "string"
        },
        "dmwp:wasteAgent": {
          "$ref": "#/$defs/AuthorizedPartyShape"
        },
        "dmwp:message": {
          "$comment": "No explicit sh:datatype or sh:class found"
        },
        "dmwp:involvedParty": {
          "$comment": "No explicit sh:datatype or sh:class found"
        }
      },
      "required": [
        "dmwp:ship",
        "dmwp:residue"
      ],
      "additionalProperties": false
    },
    "ResidueInformationShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#ResidueInformationShape",
      "title": "Residue Information",
      "description": "Información de cada lote de residuo (cerrado).",
      "properties": {
        "dmwp:typeCode": {
          "description": "typeCode debe ser OIL (placeholder).",
          "type": "string",
          "enum": [
            "OIL"
          ]
        },
        "dmwp:subtypeCode": {
          "description": "subtypeCode debe ser SLU (placeholder).",
          "type": "string",
          "enum": [
            "SLU"
          ]
        },
        "dmwp:substance": {
          "type": "string"
        },
        "dmwp:dischargeMeans": {
          "type": "string",
          "enum": [
            "ZTE",
            "ZTD",
            "ZTC",
            "ZTB"
          ]
        },
        "dmwp:nextCollectionPort": {
          "type": "string",
          "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
        },
        "dmwp:quantityToDeliver": {
          "$comment": "sh:class https://ontology.untp.io/core/Measure - no corresponding shape found"
        },
        "dmwp:quantityRemainingOnBoard": {
          "$comment": "sh:class https://ontology.untp.io/core/Measure - no corresponding shape found"
        },
        "dmwp:estimatedGenerated": {
          "$comment": "sh:class https://ontology.untp.io/core/Measure - no corresponding shape found"
        },
        "dmwp:maxCapacity": {
          "$comment": "sh:class https://ontology.untp.io/core/Measure - no corresponding shape found"
        }
      },
      "required": [
        "dmwp:typeCode",
        "dmwp:subtypeCode"
      ],
      "additionalProperties": false
    },
    "ShipShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#ShipShape",
      "title": "Ship",
      "description": "Datos del buque (cerrado).",
      "properties": {
        "dmwp:imoNumber": {
          "description": "IMO debe ser 7 dígitos.",
          "type": "string",
          "pattern": "^\\d{7}$"
        },
        "dmwp:name": {
          "type": "string"
        },
        "dmwp:flag": {
          "description": "flag debe ser ISO 3166-1 alpha-2.",
          "type": "string",
          "pattern": "^[A-Z]{2}$"
        }
      },
      "required": [
        "dmwp:imoNumber",
        "dmwp:name",
        "dmwp:flag"
      ],
      "additionalProperties": false
    },
    "AuthorizedPartyShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#AuthorizedPartyShape",
      "title": "Authorized Party",
      "description": "Entidad autorizada (cerrado).",
      "properties": {
        "dmwp:identifier": {
          "type": "string"
        },
        "dmwp:contactPoint": {
          "$comment": "No explicit sh:datatype or sh:class found"
        }
      },
      "required": [
        "dmwp:identifier"
      ],
      "additionalProperties": false
    },
    "InvolvedPartyShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://raw.githubusercontent.com/Blue-Room-Innovation/bri-ontology/main/ontology/v0.1/digitalMarpolWastePassport.ttl#InvolvedPartyShape",
      "title": "Involved Party",
      "description": "Parte involucrada (cerrado).",
      "properties": {
        "dmwp:role": {
          "$comment": "No explicit sh:datatype or sh:class found"
        }
      },
      "additionalProperties": false
    }
  },
  "type": "object",
  "properties": {
    "dmwp:credentialSubject": {
      "description": "Debe tener un credentialSubject (MarpolWastePassport).",
      "$ref": "#/$defs/MarpolWastePassportShape"
    },
    "dct:issued": {
      "description": "Falta fecha de emisión (dct:issued).",
      "type": "string",
      "format": "date-time"
    },
    "dct:publisher": {
      "description": "Falta publisher (dct:publisher).",
      "$comment": "No explicit sh:datatype or sh:class found"
    }
  },
  "required": [
    "dmwp:credentialSubject",
    "dct:issued",
    "dct:publisher"
  ],
  "additionalProperties": false
}