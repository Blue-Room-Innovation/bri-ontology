@prefix dwp-shape: <https://blue-room-innovation.github.io/bri-ontology/shapes/v0.1/digital-waste-passport.shacl.ttl#> .
@prefix bri-shape: <https://blue-room-innovation.github.io/bri-ontology/shapes/v0.1/dpp-unece.shacl.ttl#> .
@prefix dwp: <https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix untp-core: <https://test.uncefact.org/vocabulary/untp/core/0/> .
@prefix unece: <https://test.uncefact.org/vocabulary/untp/core/0/> .
@prefix untp: <https://test.uncefact.org/vocabulary/untp/dpp/0/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .

<> a owl:Ontology ;
   owl:imports <./dpp-unece.shacl.ttl>.

dwp-shape:DigitalWastePassportShape
  a sh:NodeShape ;
  sh:targetClass dwp:DigitalWastePassport ;
  sh:and ( bri-shape:DigitalProductPassportShape ) ;
  rdfs:label "Digital Waste Passport"@en ;
  rdfs:comment "A Digital Waste Passport that contains waste-specific information."@en ;
  sh:closed true ;
  sh:ignoredProperties ( rdf:type ) ;

  sh:property [
    sh:path dwp:credentialSubject ;
    sh:class dwp:WastePassport ;
    sh:node dwp-shape:WastePassportShape ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
  ] .

dwp-shape:WastePassportShape
  a sh:NodeShape ;
  sh:targetClass dwp:WastePassport ;
  sh:and ( bri-shape:ProductPassportShape ) ;
  rdfs:label "Waste Passport"@en ;
  rdfs:comment "A Product Passport specialized for waste products."@en ;
  sh:closed true ;
  sh:ignoredProperties ( rdf:type ) ;

  sh:property [
    sh:path dwp:waste ;
    sh:class dwp:Waste ;
    sh:node dwp-shape:WasteShape ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:description "The waste being documented in this passport"@en ;
  ] ;
 
  sh:property [
    sh:path untp-core:operationalScope ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:description "The operational scope of the emissions performance. Only scope 1 & 2, or including upstream scope 3 (cradle to gate) or upstream and downstream scope 3 (cradle to grave)."@en ;
  ] .

dwp-shape:WasteShape
  a sh:NodeShape ;
  sh:targetClass dwp:Waste ;
  sh:and ( bri-shape:ProductShape ) ;
  rdfs:label "Waste"@en ;
  rdfs:comment "Shape for waste products."@en ;
  sh:closed true ;
  sh:ignoredProperties ( rdf:type ) ;

  sh:property [
    sh:path untp-core:name ;
    sh:datatype xsd:string ;
    sh:maxCount 1 ;
    sh:description "Name of the waste"@en ;
  ] ;

  sh:property [
    sh:path untp-core:productCategory ;
    sh:node bri-shape:ClassificationShape ;
    sh:description "A code representing the waste ..."@en ;
  ] ;

  sh:property [
    sh:path unece:weightQuantity ;
    sh:datatype xsd:decimal ;
    sh:maxCount 1 ;
    sh:minExclusive 0 ; 
    sh:description "Weight of the waste"@en ;
  ] ;

  sh:property [
    sh:path dwp:pickupFacility ;
    sh:node bri-shape:FacilityShape ;
    sh:maxCount 1 ;
    sh:description "The Facility where the waste ..."@en ;
  ] ;

  
  sh:property [
    sh:path dwp:wasteAgentParty ;
    sh:node bri-shape:PartyShape ;
    sh:maxCount 1 ;
    sh:description "The Waste Party entity that manufactured ..."@en ;
  ] .
  