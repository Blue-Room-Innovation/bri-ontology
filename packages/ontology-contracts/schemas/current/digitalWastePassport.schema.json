{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "$defs": {
    "dwp_shape_DigitalWastePassportShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "id": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "issuer": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "anyOf": [
                            {
                              "const": "https://test.uncefact.org/vocabulary/untp/core/0/CredentialIssuer"
                            },
                            {
                              "const": "CredentialIssuer"
                            }
                          ]
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "type": "array",
                          "contains": {
                            "anyOf": [
                              {
                                "const": "https://test.uncefact.org/vocabulary/untp/core/0/CredentialIssuer"
                              },
                              {
                                "const": "CredentialIssuer"
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "anyOf": [
                              {
                                "const": "https://test.uncefact.org/vocabulary/untp/core/0/CredentialIssuer"
                              },
                              {
                                "const": "CredentialIssuer"
                              }
                            ]
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "type": "array",
                            "contains": {
                              "anyOf": [
                                {
                                  "const": "https://test.uncefact.org/vocabulary/untp/core/0/CredentialIssuer"
                                },
                                {
                                  "const": "CredentialIssuer"
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "validFrom": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[-]?\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?([Z]|([+-]\\d{2}:\\d{2}))$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[-]?\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?([Z]|([+-]\\d{2}:\\d{2}))$"
                      }
                    ]
                  },
                  "maxItems": 1
                }
              ]
            },
            "validUntil": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[-]?\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?([Z]|([+-]\\d{2}:\\d{2}))$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[-]?\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?([Z]|([+-]\\d{2}:\\d{2}))$"
                      }
                    ]
                  },
                  "maxItems": 1
                }
              ]
            },
            "credentialSubject": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "$ref": "#/$defs/dwp_shape_WastePassportShape"
                    },
                    {
                      "$ref": "#/$defs/dwp_shape_WastePassportShape"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "$ref": "#/$defs/dwp_shape_WastePassportShape"
                      },
                      {
                        "$ref": "#/$defs/dwp_shape_WastePassportShape"
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "credentialSubject",
            "id",
            "issuer"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#DigitalWastePassport"
                    },
                    {
                      "const": "DigitalWastePassport"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#DigitalWastePassport"
                      },
                      {
                        "const": "DigitalWastePassport"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dwp_shape_WastePassportShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "circularityScorecard": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "conformityClaim": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {}
                }
              ]
            },
            "dueDiligenceDeclaration": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "emissionsScorecard": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "granularityLevel": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "item",
                        "batch",
                        "model"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "item",
                          "batch",
                          "model"
                        ]
                      }
                    ]
                  },
                  "maxItems": 1
                }
              ]
            },
            "id": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "materialsProvenance": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {}
                }
              ]
            },
            "traceabilityInformation": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {}
                }
              ]
            },
            "waste": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "$ref": "#/$defs/dwp_shape_WasteShape"
                    },
                    {
                      "$ref": "#/$defs/dwp_shape_WasteShape"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "$ref": "#/$defs/dwp_shape_WasteShape"
                      },
                      {
                        "$ref": "#/$defs/dwp_shape_WasteShape"
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "waste"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#WastePassport"
                    },
                    {
                      "const": "WastePassport"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#WastePassport"
                      },
                      {
                        "const": "WastePassport"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dwp_shape_WasteShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "batchNumber": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "characteristics": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "countryOfProduction": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "AD",
                        "AE",
                        "AF",
                        "AG",
                        "AI",
                        "AL",
                        "AM",
                        "AO",
                        "AQ",
                        "AR",
                        "AS",
                        "AT",
                        "AU",
                        "AW",
                        "AX",
                        "AZ",
                        "BA",
                        "BB",
                        "BD",
                        "BE",
                        "BF",
                        "BG",
                        "BH",
                        "BI",
                        "BJ",
                        "BL",
                        "BM",
                        "BN",
                        "BO",
                        "BQ",
                        "BR",
                        "BS",
                        "BT",
                        "BV",
                        "BW",
                        "BY",
                        "BZ",
                        "CA",
                        "CC",
                        "CD",
                        "CF",
                        "CG",
                        "CH",
                        "CI",
                        "CK",
                        "CL",
                        "CM",
                        "CN",
                        "CO",
                        "CR",
                        "CU",
                        "CV",
                        "CW",
                        "CX",
                        "CY",
                        "CZ",
                        "DE",
                        "DJ",
                        "DK",
                        "DM",
                        "DO",
                        "DZ",
                        "EC",
                        "EE",
                        "EG",
                        "EH",
                        "ER",
                        "ES",
                        "ET",
                        "FI",
                        "FJ",
                        "FK",
                        "FM",
                        "FO",
                        "FR",
                        "GA",
                        "GB",
                        "GD",
                        "GE",
                        "GF",
                        "GG",
                        "GH",
                        "GI",
                        "GL",
                        "GM",
                        "GN",
                        "GP",
                        "GQ",
                        "GR",
                        "GS",
                        "GT",
                        "GU",
                        "GW",
                        "GY",
                        "HK",
                        "HM",
                        "HN",
                        "HR",
                        "HT",
                        "HU",
                        "ID",
                        "IE",
                        "IL",
                        "IM",
                        "IN",
                        "IO",
                        "IQ",
                        "IR",
                        "IS",
                        "IT",
                        "JE",
                        "JM",
                        "JO",
                        "JP",
                        "KE",
                        "KG",
                        "KH",
                        "KI",
                        "KM",
                        "KN",
                        "KP",
                        "KR",
                        "KW",
                        "KY",
                        "KZ",
                        "LA",
                        "LB",
                        "LC",
                        "LI",
                        "LK",
                        "LR",
                        "LS",
                        "LT",
                        "LU",
                        "LV",
                        "LY",
                        "MA",
                        "MC",
                        "MD",
                        "ME",
                        "MF",
                        "MG",
                        "MH",
                        "MK",
                        "ML",
                        "MM",
                        "MN",
                        "MO",
                        "MP",
                        "MQ",
                        "MR",
                        "MS",
                        "MT",
                        "MU",
                        "MV",
                        "MW",
                        "MX",
                        "MY",
                        "MZ",
                        "NA",
                        "NC",
                        "NE",
                        "NF",
                        "NG",
                        "NI",
                        "NL",
                        "NO",
                        "NP",
                        "NR",
                        "NU",
                        "NZ",
                        "OM",
                        "PA",
                        "PE",
                        "PF",
                        "PG",
                        "PH",
                        "PK",
                        "PL",
                        "PM",
                        "PN",
                        "PR",
                        "PS",
                        "PT",
                        "PW",
                        "PY",
                        "QA",
                        "RE",
                        "RO",
                        "RS",
                        "RU",
                        "RW",
                        "SA",
                        "SB",
                        "SC",
                        "SD",
                        "SE",
                        "SG",
                        "SH",
                        "SI",
                        "SJ",
                        "SK",
                        "SL",
                        "SM",
                        "SN",
                        "SO",
                        "SR",
                        "SS",
                        "ST",
                        "SV",
                        "SX",
                        "SY",
                        "SZ",
                        "TC",
                        "TD",
                        "TF",
                        "TG",
                        "TH",
                        "TJ",
                        "TK",
                        "TL",
                        "TM",
                        "TN",
                        "TO",
                        "TR",
                        "TT",
                        "TV",
                        "TW",
                        "TZ",
                        "UA",
                        "UG",
                        "UM",
                        "US",
                        "UY",
                        "UZ",
                        "VA",
                        "VC",
                        "VE",
                        "VG",
                        "VI",
                        "VN",
                        "VU",
                        "WF",
                        "WS",
                        "YE",
                        "YT",
                        "ZA",
                        "ZM",
                        "ZW"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "AD",
                          "AE",
                          "AF",
                          "AG",
                          "AI",
                          "AL",
                          "AM",
                          "AO",
                          "AQ",
                          "AR",
                          "AS",
                          "AT",
                          "AU",
                          "AW",
                          "AX",
                          "AZ",
                          "BA",
                          "BB",
                          "BD",
                          "BE",
                          "BF",
                          "BG",
                          "BH",
                          "BI",
                          "BJ",
                          "BL",
                          "BM",
                          "BN",
                          "BO",
                          "BQ",
                          "BR",
                          "BS",
                          "BT",
                          "BV",
                          "BW",
                          "BY",
                          "BZ",
                          "CA",
                          "CC",
                          "CD",
                          "CF",
                          "CG",
                          "CH",
                          "CI",
                          "CK",
                          "CL",
                          "CM",
                          "CN",
                          "CO",
                          "CR",
                          "CU",
                          "CV",
                          "CW",
                          "CX",
                          "CY",
                          "CZ",
                          "DE",
                          "DJ",
                          "DK",
                          "DM",
                          "DO",
                          "DZ",
                          "EC",
                          "EE",
                          "EG",
                          "EH",
                          "ER",
                          "ES",
                          "ET",
                          "FI",
                          "FJ",
                          "FK",
                          "FM",
                          "FO",
                          "FR",
                          "GA",
                          "GB",
                          "GD",
                          "GE",
                          "GF",
                          "GG",
                          "GH",
                          "GI",
                          "GL",
                          "GM",
                          "GN",
                          "GP",
                          "GQ",
                          "GR",
                          "GS",
                          "GT",
                          "GU",
                          "GW",
                          "GY",
                          "HK",
                          "HM",
                          "HN",
                          "HR",
                          "HT",
                          "HU",
                          "ID",
                          "IE",
                          "IL",
                          "IM",
                          "IN",
                          "IO",
                          "IQ",
                          "IR",
                          "IS",
                          "IT",
                          "JE",
                          "JM",
                          "JO",
                          "JP",
                          "KE",
                          "KG",
                          "KH",
                          "KI",
                          "KM",
                          "KN",
                          "KP",
                          "KR",
                          "KW",
                          "KY",
                          "KZ",
                          "LA",
                          "LB",
                          "LC",
                          "LI",
                          "LK",
                          "LR",
                          "LS",
                          "LT",
                          "LU",
                          "LV",
                          "LY",
                          "MA",
                          "MC",
                          "MD",
                          "ME",
                          "MF",
                          "MG",
                          "MH",
                          "MK",
                          "ML",
                          "MM",
                          "MN",
                          "MO",
                          "MP",
                          "MQ",
                          "MR",
                          "MS",
                          "MT",
                          "MU",
                          "MV",
                          "MW",
                          "MX",
                          "MY",
                          "MZ",
                          "NA",
                          "NC",
                          "NE",
                          "NF",
                          "NG",
                          "NI",
                          "NL",
                          "NO",
                          "NP",
                          "NR",
                          "NU",
                          "NZ",
                          "OM",
                          "PA",
                          "PE",
                          "PF",
                          "PG",
                          "PH",
                          "PK",
                          "PL",
                          "PM",
                          "PN",
                          "PR",
                          "PS",
                          "PT",
                          "PW",
                          "PY",
                          "QA",
                          "RE",
                          "RO",
                          "RS",
                          "RU",
                          "RW",
                          "SA",
                          "SB",
                          "SC",
                          "SD",
                          "SE",
                          "SG",
                          "SH",
                          "SI",
                          "SJ",
                          "SK",
                          "SL",
                          "SM",
                          "SN",
                          "SO",
                          "SR",
                          "SS",
                          "ST",
                          "SV",
                          "SX",
                          "SY",
                          "SZ",
                          "TC",
                          "TD",
                          "TF",
                          "TG",
                          "TH",
                          "TJ",
                          "TK",
                          "TL",
                          "TM",
                          "TN",
                          "TO",
                          "TR",
                          "TT",
                          "TV",
                          "TW",
                          "TZ",
                          "UA",
                          "UG",
                          "UM",
                          "US",
                          "UY",
                          "UZ",
                          "VA",
                          "VC",
                          "VE",
                          "VG",
                          "VI",
                          "VN",
                          "VU",
                          "WF",
                          "WS",
                          "YE",
                          "YT",
                          "ZA",
                          "ZM",
                          "ZW"
                        ]
                      }
                    ]
                  },
                  "maxItems": 1
                }
              ]
            },
            "description": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "dimensions": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "furtherInformation": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {}
                }
              ]
            },
            "id": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "idScheme": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "producedAtFacility": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "producedByParty": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "productCategory": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {}
                }
              ]
            },
            "productImage": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "productionDate": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "registeredId": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "serialNumber": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "maxItems": 1
                }
              ]
            },
            "weightQuantity": {
              "anyOf": [
                {
                  "type": "number"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "number"
                  },
                  "maxItems": 1
                }
              ]
            },
            "pickupFacility": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "wasteAgentParty": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#Waste"
                    },
                    {
                      "const": "Waste"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalWastePassport.ttl#Waste"
                      },
                      {
                        "const": "Waste"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    }
  },
  "anyOf": [
    {
      "type": "object",
      "properties": {
        "@graph": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/dwp_shape_DigitalWastePassportShape"
              },
              {
                "$ref": "#/$defs/dwp_shape_WastePassportShape"
              },
              {
                "$ref": "#/$defs/dwp_shape_WasteShape"
              }
            ]
          }
        }
      },
      "required": [
        "@graph"
      ]
    },
    {
      "allOf": [
        {
          "not": {
            "required": [
              "@graph"
            ]
          }
        },
        {
          "anyOf": [
            {
              "$ref": "#/$defs/dwp_shape_DigitalWastePassportShape"
            },
            {
              "$ref": "#/$defs/dwp_shape_WastePassportShape"
            },
            {
              "$ref": "#/$defs/dwp_shape_WasteShape"
            }
          ]
        }
      ]
    }
  ]
}