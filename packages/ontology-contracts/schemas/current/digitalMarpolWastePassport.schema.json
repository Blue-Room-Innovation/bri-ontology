{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "$defs": {
    "dmwp_DigitalMarpolWastePassportShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "credentialSubject": {
              "anyOf": [
                {
                  "$ref": "#/$defs/dmwp_MarpolWastePassportShape"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/dmwp_MarpolWastePassportShape"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "issued": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "publisher": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "credentialSubject",
            "issued",
            "publisher"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#DigitalMarpolWastePassport"
                    },
                    {
                      "const": "DigitalMarpolWastePassport"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#DigitalMarpolWastePassport"
                      },
                      {
                        "const": "DigitalMarpolWastePassport"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_MarpolWastePassportShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "waste": {
              "anyOf": [
                {
                  "$ref": "#/$defs/dmwp_MarpolWasteShape"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/dmwp_MarpolWasteShape"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "waste"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWastePassport"
                    },
                    {
                      "const": "MarpolWastePassport"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWastePassport"
                      },
                      {
                        "const": "MarpolWastePassport"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_MarpolWasteShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "ship": {
              "anyOf": [
                {
                  "$ref": "#/$defs/dmwp_ShipShape"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/dmwp_ShipShape"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "residue": {
              "anyOf": [
                {
                  "$ref": "#/$defs/dmwp_ResidueInformationShape"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/dmwp_ResidueInformationShape"
                  },
                  "minItems": 1
                }
              ]
            },
            "lastDeliveryDate": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "arrivalPort": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "nextPlannedDeliveryPort": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "lastWasteDeliveryPort": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "deliveryType": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "ZTO",
                        "REC",
                        "DIS"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "ZTO",
                          "REC",
                          "DIS"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "shipScale": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "marpolEdition": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "wasteAgent": {
              "anyOf": [
                {
                  "$ref": "#/$defs/dmwp_AuthorizedPartyShape"
                },
                {
                  "type": "array",
                  "items": {
                    "$ref": "#/$defs/dmwp_AuthorizedPartyShape"
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "message": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "involvedParty": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "minItems": 0
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "residue",
            "ship"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWaste"
                    },
                    {
                      "const": "MarpolWaste"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#MarpolWaste"
                      },
                      {
                        "const": "MarpolWaste"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_ResidueInformationShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "typeCode": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "OIL"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "OIL"
                        ]
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "subtypeCode": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "SLU"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "SLU"
                        ]
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "substance": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "dischargeMeans": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "enum": [
                        "ZTE",
                        "ZTD",
                        "ZTC",
                        "ZTB"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "enum": [
                          "ZTE",
                          "ZTD",
                          "ZTC",
                          "ZTB"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "nextCollectionPort": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[A-Z]{2}[A-Z0-9]{3}$"
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "quantityToDeliver": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "anyOf": [
                            {
                              "const": "https://ontology.untp.io/core/Measure"
                            },
                            {
                              "const": "Measure"
                            }
                          ]
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "type": "array",
                          "contains": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "type": "array",
                            "contains": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "quantityRemainingOnBoard": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "anyOf": [
                            {
                              "const": "https://ontology.untp.io/core/Measure"
                            },
                            {
                              "const": "Measure"
                            }
                          ]
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "type": "array",
                          "contains": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "type": "array",
                            "contains": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "estimatedGenerated": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "anyOf": [
                            {
                              "const": "https://ontology.untp.io/core/Measure"
                            },
                            {
                              "const": "Measure"
                            }
                          ]
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "type": "array",
                          "contains": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "type": "array",
                            "contains": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "maxCapacity": {
              "anyOf": [
                {
                  "anyOf": [
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "anyOf": [
                            {
                              "const": "https://ontology.untp.io/core/Measure"
                            },
                            {
                              "const": "Measure"
                            }
                          ]
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "@type": {
                          "type": "array",
                          "contains": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        }
                      },
                      "required": [
                        "@type"
                      ]
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "anyOf": [
                              {
                                "const": "https://ontology.untp.io/core/Measure"
                              },
                              {
                                "const": "Measure"
                              }
                            ]
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      },
                      {
                        "type": "object",
                        "properties": {
                          "@type": {
                            "type": "array",
                            "contains": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          }
                        },
                        "required": [
                          "@type"
                        ]
                      }
                    ]
                  },
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "subtypeCode",
            "typeCode"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#ResidueInformation"
                    },
                    {
                      "const": "ResidueInformation"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#ResidueInformation"
                      },
                      {
                        "const": "ResidueInformation"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "quantityToDeliver": {
                  "anyOf": [
                    {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "type": "array",
                              "contains": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "type": "array",
                                "contains": {
                                  "anyOf": [
                                    {
                                      "const": "https://ontology.untp.io/core/Measure"
                                    },
                                    {
                                      "const": "Measure"
                                    }
                                  ]
                                }
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          }
                        ]
                      },
                      "minItems": 1
                    }
                  ]
                }
              },
              "required": [
                "quantityToDeliver"
              ]
            },
            {
              "type": "object",
              "properties": {
                "quantityRemainingOnBoard": {
                  "anyOf": [
                    {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "type": "array",
                              "contains": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "type": "array",
                                "contains": {
                                  "anyOf": [
                                    {
                                      "const": "https://ontology.untp.io/core/Measure"
                                    },
                                    {
                                      "const": "Measure"
                                    }
                                  ]
                                }
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          }
                        ]
                      },
                      "minItems": 1
                    }
                  ]
                }
              },
              "required": [
                "quantityRemainingOnBoard"
              ]
            },
            {
              "type": "object",
              "properties": {
                "estimatedGenerated": {
                  "anyOf": [
                    {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "anyOf": [
                                {
                                  "const": "https://ontology.untp.io/core/Measure"
                                },
                                {
                                  "const": "Measure"
                                }
                              ]
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        },
                        {
                          "type": "object",
                          "properties": {
                            "@type": {
                              "type": "array",
                              "contains": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            }
                          },
                          "required": [
                            "@type"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "anyOf": [
                                  {
                                    "const": "https://ontology.untp.io/core/Measure"
                                  },
                                  {
                                    "const": "Measure"
                                  }
                                ]
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          },
                          {
                            "type": "object",
                            "properties": {
                              "@type": {
                                "type": "array",
                                "contains": {
                                  "anyOf": [
                                    {
                                      "const": "https://ontology.untp.io/core/Measure"
                                    },
                                    {
                                      "const": "Measure"
                                    }
                                  ]
                                }
                              }
                            },
                            "required": [
                              "@type"
                            ]
                          }
                        ]
                      },
                      "minItems": 1
                    }
                  ]
                }
              },
              "required": [
                "estimatedGenerated"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_ShipShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "imoNumber": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^\\d{7}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^\\d{7}$"
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "name": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "flag": {
              "anyOf": [
                {
                  "allOf": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string",
                      "pattern": "^[A-Z]{2}$"
                    }
                  ]
                },
                {
                  "type": "array",
                  "items": {
                    "allOf": [
                      {
                        "type": "string"
                      },
                      {
                        "type": "string",
                        "pattern": "^[A-Z]{2}$"
                      }
                    ]
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "flag",
            "imoNumber",
            "name"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#Ship"
                    },
                    {
                      "const": "Ship"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#Ship"
                      },
                      {
                        "const": "Ship"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_AuthorizedPartyShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "identifier": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "array",
                  "items": {
                    "type": "string"
                  },
                  "minItems": 1,
                  "maxItems": 1
                }
              ]
            },
            "contactPoint": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "required": [
            "identifier"
          ],
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#AuthorizedParty"
                    },
                    {
                      "const": "AuthorizedParty"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#AuthorizedParty"
                      },
                      {
                        "const": "AuthorizedParty"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    },
    "dmwp_InvolvedPartyShape": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "role": {
              "anyOf": [
                {},
                {
                  "type": "array",
                  "items": {},
                  "minItems": 0,
                  "maxItems": 1
                }
              ]
            },
            "@id": {
              "type": "string"
            },
            "@type": {
              "type": [
                "string",
                "array"
              ]
            }
          },
          "unevaluatedProperties": false
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "@type": {
                  "anyOf": [
                    {
                      "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#InvolvedParty"
                    },
                    {
                      "const": "InvolvedParty"
                    }
                  ]
                }
              },
              "required": [
                "@type"
              ]
            },
            {
              "type": "object",
              "properties": {
                "@type": {
                  "type": "array",
                  "contains": {
                    "anyOf": [
                      {
                        "const": "https://blue-room-innovation.github.io/bri-ontology/ontology/v0.1/digitalMarpolWastePassport.ttl#InvolvedParty"
                      },
                      {
                        "const": "InvolvedParty"
                      }
                    ]
                  }
                }
              },
              "required": [
                "@type"
              ]
            }
          ]
        }
      ]
    }
  },
  "anyOf": [
    {
      "type": "object",
      "properties": {
        "@graph": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/dmwp_DigitalMarpolWastePassportShape"
              },
              {
                "$ref": "#/$defs/dmwp_MarpolWastePassportShape"
              },
              {
                "$ref": "#/$defs/dmwp_MarpolWasteShape"
              },
              {
                "$ref": "#/$defs/dmwp_ResidueInformationShape"
              },
              {
                "$ref": "#/$defs/dmwp_ShipShape"
              },
              {
                "$ref": "#/$defs/dmwp_AuthorizedPartyShape"
              },
              {
                "$ref": "#/$defs/dmwp_InvolvedPartyShape"
              }
            ]
          }
        }
      },
      "required": [
        "@graph"
      ]
    },
    {
      "allOf": [
        {
          "not": {
            "required": [
              "@graph"
            ]
          }
        },
        {
          "anyOf": [
            {
              "$ref": "#/$defs/dmwp_DigitalMarpolWastePassportShape"
            },
            {
              "$ref": "#/$defs/dmwp_MarpolWastePassportShape"
            },
            {
              "$ref": "#/$defs/dmwp_MarpolWasteShape"
            },
            {
              "$ref": "#/$defs/dmwp_ResidueInformationShape"
            },
            {
              "$ref": "#/$defs/dmwp_ShipShape"
            },
            {
              "$ref": "#/$defs/dmwp_AuthorizedPartyShape"
            },
            {
              "$ref": "#/$defs/dmwp_InvolvedPartyShape"
            }
          ]
        }
      ]
    }
  ]
}