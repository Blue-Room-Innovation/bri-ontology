{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DigitalProductPassportGovernedShape",
  "description": "This schema was automatically generated from SHACL shapes. It provides structural validation only. For semantic validation, use the original SHACL shapes.",
  "$comment": "Auto-generated by shacl-to-jsonschema.py - DO NOT EDIT MANUALLY",
  "$defs": {
    "DigitalProductPassportGovernedShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://example.org/dpp/governed#DigitalProductPassportGovernedShape",
      "title": "DigitalProductPassportGovernedShape",
      "properties": {
        "identifier": {
          "type": "string",
          "format": "uri"
        },
        "issuer": {
          "$ref": "#/$defs/CredentialIssuerShape"
        },
        "credentialSubject": {
          "$ref": "#/$defs/ProductPassportShape"
        },
        "validFrom": {
          "description": "Governed rule: Digital Product Passport must declare validFrom.",
          "type": "string",
          "format": "date-time"
        },
        "validUntil": {
          "description": "Governed rule: Digital Product Passport must declare validUntil.",
          "type": "string",
          "format": "date-time"
        }
      },
      "required": [
        "identifier",
        "issuer",
        "credentialSubject",
        "validFrom",
        "validUntil"
      ],
      "allOf": [
        {
          "$ref": "#/$defs/DigitalProductPassportShape"
        }
      ],
      "additionalProperties": false
    },
    "DigitalProductPassportShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://test.uncefact.org/vocabulary/untp/dpp/0/DigitalProductPassportShape",
      "title": "DigitalProductPassportShape",
      "properties": {
        "identifier": {
          "type": "string",
          "format": "uri"
        },
        "issuer": {
          "$ref": "#/$defs/CredentialIssuerShape"
        },
        "validFrom": {
          "type": "string",
          "format": "date-time"
        },
        "validUntil": {
          "type": "string",
          "format": "date-time"
        },
        "credentialSubject": {
          "$ref": "#/$defs/ProductPassportShape"
        }
      },
      "required": [
        "identifier",
        "issuer",
        "credentialSubject"
      ]
    },
    "CredentialIssuerShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://test.uncefact.org/vocabulary/untp/dpp/0/CredentialIssuerShape",
      "title": "CredentialIssuerShape",
      "properties": {
        "identifier": {
          "type": "string",
          "format": "uri"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "identifier",
        "name"
      ]
    },
    "ProductPassportShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://test.uncefact.org/vocabulary/untp/dpp/0/ProductPassportShape",
      "title": "ProductPassportShape",
      "properties": {
        "product": {
          "$ref": "#/$defs/ProductShape"
        },
        "granularityLevel": {
          "type": "string",
          "enum": [
            "item",
            "batch",
            "model"
          ]
        }
      },
      "required": [
        "product"
      ]
    },
    "ProductShape": {
      "type": "object",
      "$comment": "Generated from SHACL shape https://test.uncefact.org/vocabulary/untp/dpp/0/ProductShape",
      "title": "ProductShape",
      "properties": {
        "identifier": {
          "type": "string",
          "format": "uri"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "identifier",
        "name"
      ]
    }
  },
  "type": "object",
  "properties": {
    "identifier": {
      "type": "string",
      "format": "uri"
    },
    "issuer": {
      "$ref": "#/$defs/CredentialIssuerShape"
    },
    "credentialSubject": {
      "$ref": "#/$defs/ProductPassportShape"
    },
    "validFrom": {
      "description": "Governed rule: Digital Product Passport must declare validFrom.",
      "type": "string",
      "format": "date-time"
    },
    "validUntil": {
      "description": "Governed rule: Digital Product Passport must declare validUntil.",
      "type": "string",
      "format": "date-time"
    }
  },
  "required": [
    "identifier",
    "issuer",
    "credentialSubject",
    "validFrom",
    "validUntil"
  ],
  "additionalProperties": false,
  "allOf": [
    {
      "$ref": "#/$defs/DigitalProductPassportShape"
    }
  ]
}